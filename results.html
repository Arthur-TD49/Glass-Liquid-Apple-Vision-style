<!doctype html>
<html lang="fr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Glass Liquid — Résultats</title>
<meta name="description" content="Résultats — Glass Liquid (Apple Vision style) - prototype" />
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
<style>
  :root{
    --bg-1:#f8fafc;
    --bg-2:#eef2f7;
    --muted:#243241;
    --muted-2:rgba(36,50,65,0.68);
    --accent-1:#7b6bff;
    --accent-2:#00ffd6;
    --glass: rgba(255,255,255,0.88);
    --radius:14px;
    --card-shadow: 0 10px 30px rgba(16,24,40,0.06);
  }
  *{box-sizing:border-box}
  html,body{height:100%;margin:0;font-family:Poppins,system-ui,-apple-system,Segoe UI,Roboto,Arial;color:var(--muted);background:linear-gradient(180deg,var(--bg-1),var(--bg-2));-webkit-font-smoothing:antialiased}
  a{color:inherit}
  button{font-family:inherit}

  /* layout */
  .page {min-height:100vh;padding:28px;display:flex;flex-direction:column;gap:18px}
  .topbar {display:flex;align-items:center;gap:18px;justify-content:space-between}
  .brand {display:flex;align-items:center;gap:12px}
  .word {width:160px;height:54px}

  .searchbar {
    flex:1;display:flex;gap:12px;align-items:center;max-width:920px;margin:auto;
    padding:12px;border-radius:999px;background:rgba(255,255,255,0.92);border:1px solid rgba(16,24,40,0.04);box-shadow:var(--card-shadow);
  }
  .searchbar input{flex:1;border:0;background:transparent;outline:0;padding:8px;font-size:16px;color:var(--muted)}
  .searchbar button{padding:8px 12px;border-radius:10px;border:0;background:linear-gradient(90deg,var(--accent-1),var(--accent-2));color:white;font-weight:600}

  /* content */
  .content {display:flex;gap:20px;align-items:flex-start;justify-content:center;width:100%}
  .main {flex:1;max-width:920px}
  .results-panel {
    margin-top:18px;border-radius:12px;background:linear-gradient(180deg, rgba(255,255,255,0.92), rgba(255,255,255,0.96));border:1px solid rgba(16,24,40,0.04);
    padding:12px;backdrop-filter: blur(6px);box-shadow:0 12px 40px rgba(16,24,40,0.06);opacity:0;transform:translateY(8px) scale(0.995);transition:all .42s cubic-bezier(.2,.9,.2,1);
  }
  .results-panel.show{opacity:1;transform:translateY(0) scale(1)}

  .result {padding:14px;border-radius:10px;margin-bottom:10px;transition:transform .12s, background .12s}
  .result:hover{transform:translateY(-6px);background:linear-gradient(90deg, rgba(123,107,255,0.04), rgba(0,255,214,0.02))}
  .r-title{font-weight:700;color:var(--muted);font-size:16px;margin-bottom:6px}
  .r-url{font-size:13px;color:var(--muted-2);margin-bottom:6px}
  .r-snip{font-size:14px;color:var(--muted-2);line-height:1.36}

  /* side column */
  .side {width:300px;display:flex;flex-direction:column;gap:12px}
  .panel {padding:12px;border-radius:12px;background:linear-gradient(180deg, rgba(255,255,255,0.95), rgba(255,255,255,0.98));border:1px solid rgba(16,24,40,0.03);box-shadow:var(--card-shadow)}
  .panel h4{margin:0 0 8px 0;color:var(--muted)}
  .small{font-size:13px;color:var(--muted-2)}

  /* pager */
  .pager{display:flex;gap:8px;justify-content:center;margin-top:8px}
  .pager button{padding:8px 10px;border-radius:10px;border:1px solid rgba(16,24,40,0.04);background:transparent;cursor:pointer}
  .pager button.active{background:linear-gradient(90deg,var(--accent-1),var(--accent-2));color:white;border:0}

  @media (max-width:980px){
    .content{flex-direction:column;align-items:stretch}
    .side{width:100%}
  }

  /* focus visuals */
  :focus{outline:none}
  .focusable:focus{box-shadow:0 0 0 4px rgba(123,107,255,0.12);border-radius:8px}
</style>
</head>
<body>
  <div class="page" role="main" aria-labelledby="pageTitle">
    <header class="topbar" role="banner">
      <div class="brand" aria-hidden="true">
        <svg class="word" viewBox="0 0 320 80" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
          <defs><linearGradient id="wg2" x1="0" x2="1"><stop offset="0" stop-color="#7b6bff"/><stop offset="1" stop-color="#00ffd6"/></linearGradient></defs>
          <g fill="none" stroke="url(#wg2)" stroke-width="7" stroke-linecap="round" stroke-linejoin="round">
            <path d="M8 60 C36 20, 120 20, 150 60" stroke-opacity="0.98"/>
            <path d="M164 20 L198 60" stroke-opacity="0.98"/>
            <path d="M220 20 L254 60" stroke-opacity="0.98"/>
            <path d="M276 20 L310 60" stroke-opacity="0.98"/>
          </g>
        </svg>
      </div>

      <form id="searchForm" class="searchbar" role="search" onsubmit="onSearchPage(event)" aria-label="Barre de recherche">
        <label for="qTop" class="visually-hidden">Recherche</label>
        <input id="qTop" type="search" placeholder="Recherche" aria-label="Recherche" />
        <button type="submit" class="focusable">Rechercher</button>
      </form>
    </header>

    <section class="content" aria-label="Contenu principal">
      <main class="main">
        <div id="resultsPanel" class="results-panel" role="region" aria-live="polite" aria-atomic="true">
          <!-- generated results will appear here -->
        </div>
        <div class="pager" id="pager" aria-label="Pagination" style="display:none"></div>
      </main>

      <aside class="side" aria-label="Colonnes latérales">
        <div class="panel">
          <h4>À propos</h4>
          <div class="small">Prototype Glass Liquid — résultats simulés. Les résultats sont générés aléatoirement côté client à chaque recherche.</div>
        </div>

        <div class="panel">
          <h4>Tendances</h4>
          <ul id="trendList" style="margin:0;padding-left:18px;color:var(--muted-2)"></ul>
        </div>
      </aside>
    </section>
  </div>

<script>
/* Utility functions */
function qsParam(name){ const p = new URLSearchParams(window.location.search); return p.get(name) || ''; }
function escapeHtml(s){ return String(s).replace(/[&<>"']/g, (m)=>({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[m])); }
function rand(min,max){ return Math.floor(Math.random()*(max-min+1))+min; }

/* Templates for generating classic-style results */
const SITE_WORDS = ['guide','blog','news','hub','portal','studio','lab','media','insights','daily','site'];
const TOPICS = ['design', 'javascript', 'startup', 'recette', 'voyage', 'météo', 'cinéma', 'musique', 'hardware', 'IA'];
const SNIPPET_TEMPLATES = [
  "Découvrez %s : un guide complet pour comprendre les bases et aller plus loin.",
  "Article détaillé sur %s, conseils pratiques, exemples et ressources.",
  "%s — tutoriels, études de cas et meilleures pratiques pour débutants et pros.",
  "Analyse récente et recommandations autour de %s, mise à jour 2025.",
  "Collection d'articles et d'exemples pour maîtriser %s rapidement."
];

const TRENDS = ['Glass Liquid UI', 'Recherche multimodale', 'IA conversationnelle', 'Design Apple Vision', '3D WebGL interfaces'];

/* DOM refs */
const qTop = document.getElementById('qTop');
const resultsPanel = document.getElementById('resultsPanel');
const pager = document.getElementById('pager');
const trendList = document.getElementById('trendList');

/* Pagination settings */
let results = [];
const PAGE_SIZE = 8;
let currentPage = 1;

/* Populate trends */
function renderTrends(){
  trendList.innerHTML = TRENDS.slice(0,5).map(t => '<li>'+escapeHtml(t)+'</li>').join('');
}
renderTrends();

/* Generate a list of randomized classic results based on query */
function generateResults(query){
  const q = (query||'').trim();
  const n = rand(7,14); // number of results
  const out = [];
  for(let i=0;i<n;i++){
    const topic = q || TOPICS[Math.floor(Math.random()*TOPICS.length)];
    const siteWord = SITE_WORDS[Math.floor(Math.random()*SITE_WORDS.length)];
    const name = [
      capitalize(topic) + ' ' + capitalize(siteWord),
      'Le ' + capitalize(topic) + ' Club',
      capitalize(topic) + ' Insights',
      'Master ' + capitalize(topic),
      capitalize(siteWord) + ' ' + capitalize(topic)
    ][Math.floor(Math.random()*5)];

    const domain = [
      `${topic}${siteWord}.example`,
      `${siteWord}-${topic}.example`,
      `${topic}studio.example`,
      `${siteWord}labs.example`
    ][Math.floor(Math.random()*4)];

    const snippetT = SNIPPET_TEMPLATES[Math.floor(Math.random()*SNIPPET_TEMPLATES.length)];
    const snippet = snippetT.replace('%s', topic + (q ? ' — "'+q+'"' : ''));

    out.push({
      title: name,
      url: 'https://' + domain + '/'+slugify(topic)+'/'+rand(1,999),
      snippet
    });
  }
  return out;
}

/* small helpers */
function slugify(s){ return String(s).toLowerCase().replace(/\s+/g,'-').replace(/[^a-z0-9\-]/g,''); }
function capitalize(s){ return String(s).charAt(0).toUpperCase() + String(s).slice(1); }

/* Render page results for given page */
function renderPage(page){
  currentPage = page;
  const start = (page-1)*PAGE_SIZE;
  const chunk = results.slice(start, start + PAGE_SIZE);

  let html = '';
  if(chunk.length === 0){
    html = '<div class="result"><div class="r-title">Aucun résultat</div><div class="r-snip">Aucun document ne correspond à votre recherche.</div></div>';
  } else {
    chunk.forEach(r => {
      html += `<article class="result" role="article" tabindex="0">
        <div class="r-title">${escapeHtml(r.title)}</div>
        <div class="r-url">${escapeHtml(r.url)}</div>
        <div class="r-snip">${escapeHtml(r.snippet)}</div>
      </article>`;
    });
  }

  resultsPanel.innerHTML = html;
  // pager
  const total = Math.max(1, Math.ceil(results.length / PAGE_SIZE));
  if(total > 1){
    let phtml = '';
    for(let p=1;p<=total;p++){
      phtml += `<button class="${p===currentPage?'active':''}" onclick="renderPage(${p})" aria-label="Page ${p}">${p}</button>`;
    }
    pager.style.display = 'flex';
    pager.innerHTML = phtml;
  } else {
    pager.style.display = 'none';
    pager.innerHTML = '';
  }

  // show panel animation
  requestAnimationFrame(() => resultsPanel.classList.add('show'));
  // store last search in history
  try {
    const hist = JSON.parse(localStorage.getItem('gl_history') || '[]');
    const qval = qTop.value.trim();
    if(qval) {
      if(!hist.includes(qval)) hist.push(qval);
      localStorage.setItem('gl_history', JSON.stringify(hist.slice(-20)));
    }
  } catch(e){}
}

/* Handle initial query from URL */
function initFromQuery(){
  const q = decodeURIComponent(qsParam('q') || '').trim();
  qTop.value = q;
  // generate results randomly on each load/search
  results = generateResults(q);
  renderPage(1);
  // focus behavior for accessibility
  qTop.focus();
}
initFromQuery();

/* Search form submit (regenerate results client-side) */
function onSearchPage(e){
  e.preventDefault();
  const v = qTop.value.trim();
  // re-generate (randomized each time)
  resultsPanel.classList.remove('show');
  setTimeout(() => {
    results = generateResults(v);
    renderPage(1);
    // update URL (pushState) so linkable
    const newUrl = window.location.pathname + '?q=' + encodeURIComponent(v);
    window.history.pushState({}, '', newUrl);
  }, 180);
}

/* keyboard "/" shortcut to focus */
document.addEventListener('keydown', (e) => {
  if(e.key === '/' && document.activeElement !== qTop){
    e.preventDefault();
    qTop.focus();
    qTop.select();
  }
});

/* Manage back/forward (keep results consistent) */
window.addEventListener('popstate', () => {
  initFromQuery();
});
</script>
</body>
</html>
