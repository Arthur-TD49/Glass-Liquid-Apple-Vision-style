<!doctype html>
<html lang="fr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Glass Liquid Search ‚Äî Moteur de recherche moderne</title>
<meta name="description" content="Glass Liquid ‚Äî Moteur de recherche elegant avec design Apple Vision" />
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
<style>
  :root{
    --bg-1:#f6f8fb;
    --bg-2:#eef1f6;
    --glass: rgba(255,255,255,0.75);
    --glass-2: rgba(255,255,255,0.85);
    --muted:#334155;
    --accent-1: #7b6bff;
    --accent-2: #00ffd6;
    --radius:18px;
    --card-shadow: 0 10px 30px rgba(16,24,40,0.08);
  }
  *{box-sizing:border-box}
  html,body{height:100%;margin:0;font-family:Poppins,system-ui,-apple-system,Segoe UI,Roboto,Arial;color:var(--muted);background:linear-gradient(180deg,var(--bg-1),var(--bg-2));-webkit-font-smoothing:antialiased}
  a{color:inherit}
  button{font-family:inherit}

  /* App layout */
  .wrap{min-height:100vh;display:flex;align-items:center;justify-content:center;padding:40px;position:relative;overflow:hidden}

  /* soft animated background blobs */
  .bg-blob{
    position:absolute;filter:blur(60px);opacity:0.9;mix-blend-mode:multiply;transform:translate3d(0,0,0);
  }
  .blob-a{width:720px;height:520px;background:radial-gradient(circle at 30% 30%, rgba(123,107,255,0.25), rgba(123,107,255,0.06) 30%, transparent 60%);left:-10%;top:-20%;}
  .blob-b{width:540px;height:420px;background:radial-gradient(circle at 70% 70%, rgba(0,255,214,0.20), rgba(0,255,214,0.04) 30%, transparent 60%);right:-8%;bottom:-10%;}
  @keyframes floaty { 0%{transform:translateY(0px) rotate(0deg)} 50%{transform:translateY(-18px) rotate(0.6deg)} 100%{transform:translateY(0px) rotate(0deg)} }
  .blob-a,.blob-b{animation:floaty 10s ease-in-out infinite;}

  /* Card (glass) */
  .card {
    position:relative;
    width:min(920px,96vw);
    border-radius:calc(var(--radius)+6px);
    background: linear-gradient(180deg, rgba(255,255,255,0.70), rgba(255,255,255,0.85));
    border: 1px solid rgba(255,255,255,0.6);
    box-shadow: var(--card-shadow);
    padding:36px;
    display:flex;
    flex-direction:column;
    align-items:center;
    backdrop-filter: blur(8px) saturate(120%);
    transform:translateY(24px);
    opacity:0;
    transition:transform .9s cubic-bezier(.2,.9,.2,1), opacity .9s ease;
  }
  .card.show { transform:translateY(0); opacity:1; }

  /* Logo & Intro animation */
  .logo {
    width:220px;height:74px;display:flex;align-items:center;justify-content:center;margin-bottom:14px;
    transform:translateY(-6px);opacity:0;transition: transform .9s cubic-bezier(.2,.9,.2,1), opacity .9s;
  }
  .logo.show{ transform:translateY(0); opacity:1; }
  svg.wordmark { width:220px;height:64px; display:block; }
  .subtitle{font-size:14px;color:var(--muted);opacity:0.95;margin-bottom:18px;transform:translateY(-6px);transition:all .9s}

  /* Search */
  .search-row{width:100%;display:flex;gap:12px;align-items:center;justify-content:center;flex-wrap:wrap}
  .search-field{
    flex:1;max-width:720px;display:flex;align-items:center;gap:12px;padding:14px 16px;border-radius:999px;
    background: rgba(255,255,255,0.9);border:1px solid rgba(16,24,40,0.04);
    box-shadow: 0 6px 24px rgba(10,14,20,0.04);
    transition:box-shadow .18s, transform .18s;
  }
  .search-field:focus-within{box-shadow:0 18px 60px rgba(123,107,255,0.08);transform:translateY(-2px);}
  .search-field input{flex:1;border:0;background:transparent;outline:0;padding:6px;font-size:17px;color:var(--muted)}
  .search-actions{display:flex;gap:8px}

  .btn {
    padding:10px 14px;border-radius:12px;border:0;font-weight:600;cursor:pointer;
    background:linear-gradient(90deg,var(--accent-1),var(--accent-2));color:white;box-shadow:0 8px 30px rgba(16,24,40,0.06);transition:transform .2s, box-shadow .2s;
  }
  .btn:hover:not(:disabled) { transform:translateY(-2px); box-shadow:0 12px 40px rgba(123,107,255,0.15); }
  .btn:disabled { opacity:0.6; cursor:not-allowed; }
  .btn.ghost { background:transparent;border:1px solid rgba(16,24,40,0.04);color:var(--muted) }
  .btn.ghost:hover:not(:disabled) { background:rgba(123,107,255,0.05); }

  /* small hint */
  .hint{font-size:13px;color:var(--muted);margin-top:12px;opacity:0.95}

  /* Results section */
  .results {
    width:100%;margin-top:20px;max-height:600px;overflow-y:auto;display:none;
  }
  .results.show { display:block; }
  .result-item {
    margin-bottom:18px;padding:12px;border-radius:12px;background:rgba(123,107,255,0.04);border:1px solid rgba(123,107,255,0.08);transition:all .2s;
  }
  .result-item:hover { background:rgba(123,107,255,0.08);border-color:rgba(123,107,255,0.15); }
  .result-title {
    font-weight:600;color:var(--accent-1);margin-bottom:4px;cursor:pointer;text-decoration:none;display:block;
  }
  .result-title:hover { text-decoration:underline; }
  .result-url {
    font-size:12px;color:var(--accent-2);margin-bottom:6px;
  }
  .result-desc {
    font-size:14px;color:var(--muted);line-height:1.5;opacity:0.9;
  }
  .loading {
    text-align:center;padding:20px;color:var(--muted);opacity:0.7;
  }
  .spinner {
    display:inline-block;width:16px;height:16px;border:2px solid rgba(123,107,255,0.2);border-top-color:var(--accent-1);border-radius:50%;animation:spin .8s linear infinite;margin-right:8px;
  }
  @keyframes spin { to { transform:rotate(360deg); } }

  /* footer links */
  .footer{display:flex;gap:12px;margin-top:20px;color:var(--muted);font-size:13px}
  .footer a{color:var(--muted);text-decoration:none;padding:8px 10px;border-radius:10px;cursor:pointer;}
  .footer a:hover{background:rgba(123,107,255,0.05);}
  .footer a:focus{outline:2px solid rgba(123,107,255,0.12)}

  /* Loading halo (subtle) */
  .halo { position:absolute; inset:auto; left:50%; transform:translateX(-50%); bottom:28px; width:180px; height:180px;border-radius:50%; background: radial-gradient(circle at 40% 40%, rgba(123,107,255,0.10), rgba(0,255,214,0.06) 35%, transparent 60%); filter:blur(24px); pointer-events:none; opacity:0; transition:opacity .6s; }
  .halo.show{opacity:1}

  /* Modal */
  .modal { display:none; position:fixed; inset:0; background:rgba(0,0,0,0.4); align-items:center; justify-content:center; z-index:1000; }
  .modal.show { display:flex; }
  .modal-content { background:white; border-radius:var(--radius); padding:28px; max-width:500px; width:90%; box-shadow:0 20px 60px rgba(16,24,40,0.15); max-height:80vh; overflow-y:auto; }
  .modal-close { float:right; font-size:24px; cursor:pointer; color:var(--muted); background:none; border:none; padding:0; width:32px; height:32px; display:flex; align-items:center; justify-content:center; }
  .modal-close:hover { background:rgba(123,107,255,0.05); border-radius:8px; }
  .modal h2 { margin-top:0; color:var(--accent-1); }
  .modal p { line-height:1.6; color:var(--muted); }

  /* small responsive */
  @media (max-width:700px){
    .search-field{padding:12px}
    .card{padding:20px}
    .logo{width:170px;height:60px}
    .search-actions { width:100%; flex-direction:column; }
    .btn { width:100%; }
  }

  /* accessibility focus */
  :focus{outline:none}
  .focusable:focus{box-shadow:0 0 0 4px rgba(123,107,255,0.12)}
</style>
</head>
<body>
  <div class="wrap" id="wrap">
    <div class="bg-blob blob-a" aria-hidden="true"></div>
    <div class="bg-blob blob-b" aria-hidden="true"></div>

    <main class="card" role="main" aria-labelledby="mainTitle" id="card">
      <div class="logo" id="logo" aria-hidden="false">
        <svg class="wordmark" viewBox="0 0 360 90" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Glass Liquid">
          <defs>
            <linearGradient id="wg" x1="0" x2="1">
              <stop offset="0" stop-color="#7b6bff"/>
              <stop offset="1" stop-color="#00ffd6"/>
            </linearGradient>
            <filter id="soft">
              <feGaussianBlur stdDeviation="6" result="b"/>
              <feBlend in="SourceGraphic" in2="b"/>
            </filter>
          </defs>
          <g fill="none" stroke="url(#wg)" stroke-width="8" stroke-linecap="round" stroke-linejoin="round" filter="url(#soft)">
            <path d="M8 60 C36 20, 120 20, 150 60" stroke-opacity="0.98"/>
            <path d="M164 20 L198 60" stroke-opacity="0.98"/>
            <path d="M220 20 L254 60" stroke-opacity="0.98"/>
            <path d="M276 20 L310 60" stroke-opacity="0.98"/>
          </g>
        </svg>
      </div>

      <div class="subtitle" id="subtitle">Moteur de recherche √©l√©gant et moderne</div>

      <form id="searchForm" class="search-row" role="search" onsubmit="onSubmit(event)" aria-label="Formulaire de recherche">
        <div class="search-field" role="presentation">
          <button type="button" tabindex="-1" aria-hidden="true">üîç</button>
          <input id="q" name="q" type="search" autocomplete="off" placeholder="Votre recherche..." aria-label="Champ de recherche" />
          <button type="button" class="focusable" onclick="clearQ()" aria-label="Effacer" style="background:none; border:none; cursor:pointer; padding:4px; color:var(--muted); font-size:14px;">‚úñ</button>
        </div>

        <div class="search-actions" role="group" aria-label="Actions de recherche">
          <button type="submit" class="btn focusable" id="searchBtn">Recherche</button>
          <button type="button" class="btn ghost focusable" onclick="feelingLucky()">Surprise</button>
        </div>
      </form>

      <div class="results" id="results"></div>

      <div class="hint">Appuie sur <kbd>/</kbd> pour focus la recherche ‚Ä¢ Raccourci : <kbd>Ctrl+K</kbd></div>

      <div class="footer">
        <a onclick="openModal('about')">√Ä propos</a>
        <a onclick="openModal('privacy')">Confidentialit√©</a>
        <a onclick="openModal('settings')">Param√®tres</a>
      </div>

      <div class="halo" id="halo" aria-hidden="true"></div>
    </main>
  </div>

  <!-- Modals -->
  <div class="modal" id="modal">
    <div class="modal-content">
      <button class="modal-close" onclick="closeModal()">√ó</button>
      <div id="modalBody"></div>
    </div>
  </div>

<script>
  let isSearching = false;

  // Entrance animation
  window.addEventListener('load', () => {
    requestAnimationFrame(() => {
      document.getElementById('card').classList.add('show');
      document.getElementById('logo').classList.add('show');
      document.getElementById('subtitle').style.transform = 'translateY(0)';
      document.getElementById('subtitle').style.opacity = '1';
      setTimeout(() => document.getElementById('halo').classList.add('show'), 650);
    });
  });

  // Keyboard shortcuts
  const qInput = document.getElementById('q');
  document.addEventListener('keydown', (e) => {
    if(e.key === '/' && document.activeElement !== qInput && !document.getElementById('modal').classList.contains('show')){
      e.preventDefault();
      qInput.focus();
      qInput.select();
    }
    if((e.key === 'k' && (e.ctrlKey || e.metaKey))) {
      e.preventDefault();
      qInput.focus();
      qInput.select();
    }
  });

  // Search using Brave Search API
  async function performSearch(query) {
    if (!query.trim() || isSearching) return;
    
    isSearching = true;
    const resultsDiv = document.getElementById('results');
    const searchBtn = document.getElementById('searchBtn');
    const luckyBtn = document.querySelector('[onclick="feelingLucky()"]');
    
    searchBtn.disabled = true;
    luckyBtn.disabled = true;
    
    resultsDiv.innerHTML = '<div class="loading"><div class="spinner"></div>Recherche en cours...</div>';
    resultsDiv.classList.add('show');

    try {
      const response = await fetch(`https://api.search.brave.com/res/v1/web/search?q=${encodeURIComponent(query)}&count=8`, {
        headers: { 'Accept': 'application/json' }
      }).catch(() => {
        // Fallback to DuckDuckGo if Brave fails
        return fetch(`https://api.duckduckgo.com/?q=${encodeURIComponent(query)}&format=json&no_redirect=1`);
      });

      const data = await response.json();
      
      let html = '';
      let results = [];

      // Try Brave API results first
      if (data.web && Array.isArray(data.web.results)) {
        results = data.web.results.slice(0, 8);
      } 
      // Fallback to DuckDuckGo
      else if (data.RelatedTopics) {
        results = data.RelatedTopics.filter(r => r.FirstURL).slice(0, 8);
      }
      
      if (results.length === 0) {
        html = '<div class="result-item"><p style="opacity:0.7;">Aucun r√©sultat trouv√© pour "' + query + '"</p></div>';
      } else {
        results.forEach(result => {
          let title, desc, url;
          
          if (result.title) {
            // Brave API format
            title = result.title;
            desc = result.description || '';
            url = result.url;
          } else if (result.FirstURL) {
            // DuckDuckGo format
            title = result.Text.split(' - ')[0] || 'R√©sultat';
            desc = result.Text || '';
            url = result.FirstURL;
          }
          
          if (url) {
            html += `
              <div class="result-item">
                <a href="${url}" target="_blank" rel="noopener noreferrer" class="result-title">${escapeHtml(title)}</a>
                <div class="result-url">${new URL(url).hostname}</div>
                <div class="result-desc">${escapeHtml(desc.substring(0, 150))}</div>
              </div>
            `;
          }
        });
      }
      
      resultsDiv.innerHTML = html;
    } catch (error) {
      resultsDiv.innerHTML = '<div class="result-item"><p style="color:var(--muted);opacity:0.7;">Erreur lors de la recherche. V√©rifiez votre connexion.</p></div>';
    }
    
    isSearching = false;
    searchBtn.disabled = false;
    luckyBtn.disabled = false;
  }

  function escapeHtml(text) {
    const map = {'&': '&amp;', '<': '&lt;', '>': '&gt;', '"': '&quot;', "'": '&#039;'};
    return text.replace(/[&<>"']/g, m => map[m]);
  }

  function onSubmit(e){
    e.preventDefault();
    const v = qInput.value.trim();
    if (v) {
      performSearch(v);
      
      // visual pulse
      const halo = document.getElementById('halo');
      halo.style.transition = 'opacity .18s, transform .4s';
      halo.style.transform = 'translateY(-8px) scale(1.02)';
      halo.style.opacity = '0.95';
      setTimeout(() => { 
        halo.style.transform = 'translateY(0) scale(1)';
        halo.style.opacity = '0';
      }, 400);
    }
  }

  function clearQ(){ 
    qInput.value = ''; 
    qInput.focus();
    document.getElementById('results').classList.remove('show');
  }

  function feelingLucky(){
    const samples = ['meilleurs caf√©s Paris', 'apprendre JavaScript', 'recette tarte aux pommes', 'tendances design 2025', 'tunisie tourisme'];
    const pick = samples[Math.floor(Math.random()*samples.length)];
    qInput.value = pick;
    setTimeout(() => performSearch(pick), 100);
  }

  function openModal(type) {
    const modal = document.getElementById('modal');
    const modalBody = document.getElementById('modalBody');
    
    const content = {
      about: `
        <h2>√Ä propos de Glass Liquid</h2>
        <p>Glass Liquid est un moteur de recherche moderne con√ßu avec √©l√©gance et performance. Inspir√© par le design Apple Vision, il offre une exp√©rience de recherche fluide et intuitive.</p>
        <p><strong>Caract√©ristiques :</strong></p>
        <ul style="line-height:1.8">
          <li>Design glassmorphism moderne</li>
          <li>Animations fluides et transitions douces</li>
          <li>Accessibilit√© compl√®te (WCAG)</li>
          <li>Recherche instantan√©e</li>
          <li>Responsive sur tous les appareils</li>
        </ul>
        <p style="font-size:12px;opacity:0.7;margin-top:16px;">Version 1.0 ‚Äî 2025</p>
      `,
      privacy: `
        <h2>Confidentialit√©</h2>
        <p>Glass Liquid respecte votre vie priv√©e. Nous n'enregistrons pas vos donn√©es de recherche.</p>
        <p><strong>Politique de confidentialit√© :</strong></p>
        <ul style="line-height:1.8">
          <li>Aucun suivi des utilisateurs</li>
          <li>Pas de cookies de suivi</li>
          <li>Les requ√™tes sont transmises via HTTPS</li>
          <li>Aucune vente de donn√©es personnelles</li>
          <li>Conformit√© RGPD</li>
        </ul>
        <p>Pour plus d'informations, consultez notre politique compl√®te.</p>
      `,
      settings: `
        <h2>Param√®tres</h2>
        <p><strong>Raccourcis clavier :</strong></p>
        <ul style="line-height:1.8">
          <li><kbd>/</kbd> ‚Äî Focus le champ de recherche</li>
          <li><kbd>Ctrl+K</kbd> (ou <kbd>Cmd+K</kbd>) ‚Äî Focus rapide</li>
          <li><kbd>Entr√©e</kbd> ‚Äî Lancer la recherche</li>
        </ul>
        <p><strong>Th√®me :</strong> Light (d√©faut)</p>
        <p style="font-size:13px;opacity:0.7;margin-top:16px;">Les param√®tres suppl√©mentaires arriveront bient√¥t.</p>
      `
    };
    
    modalBody.innerHTML = content[type] || '<h2>Erreur</h2><p>Contenu non disponible.</p>';
    modal.classList.add('show');
  }

  function closeModal() {
    document.getElementById('modal').classList.remove('show');
  }

  // Close modal on Escape
  document.addEventListener('keydown', (e) => {
    if (e.key === 'Escape') {
      closeModal();
    }
  });

  // Close modal on outside click
  document.getElementById('modal').addEventListener('click', (e) => {
    if (e.target === document.getElementById('modal')) {
      closeModal();
    }
  });
</script>
</body>
</html>
